* ZNTupleDebug.in
* Simple setup to debug my znutple issues 

# The "default" physics list is QGSP_BERT
physics QGSP_BERT

param -unset First_Event=1
param -unset Num_Events=1000
param -unset Read_Beam_File=0
param -unset Beam_File=/Users/sgrant/mu2e/g4bl/beamFiles/v3.06/g4beamline_ZNtupleDebug_10events_bm.txt

# Cut out neutrals, e+-, and charged exotics 
trackcuts keep=proton,pi-,pi+,mu-,mu+

# Proton beam with 1 GeV kinetic energy, the mass of a proton is 938.27231 MeV
param ProtonKE=8000.0
param ProtonMass=938.27231
param ProtonMomentum=sqrt(($ProtonKE+$ProtonMass)^2-$ProtonMass^2)

beam gaussian \
    particle=proton \
    nEvents=$Num_Events \
    firstEvent=$First_Event \
    beamZ=0 \
    meanMomentum=$ProtonMomentum 

# Run from beam file 
if $Read_Beam_File==0
	beam gaussian \
	    particle=proton \
	    nEvents=$Num_Events \
	    firstEvent=$First_Event \
	    beamZ=0 \
	    meanMomentum=$ProtonMomentum 
elseif $Read_Beam_File==1
    beam ascii \
    	firstEvent=$First_Event \
    	nEvents=$Num_Events \
    	filename=$Beam_File 
endif

# Tungsten target
tubs pTarget radius=1000 length=50 material=W color=1,0,0
place pTarget z=0 

# Virtual detector

virtualdetector VD radius=1000 length=1 color=0,1,0
# Place it 1 m behind the target 
place VD z=1000

# Zntuple plane, 50 cm behind the target 
zntuple BeamFile z=500 

# Just check that the znutple is where you think it it
# box zBox width=1500 height=1500 length=1 material=Be color=0,0,1 
# place zBox z=500


